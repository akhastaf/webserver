 server 
 {
    listen 127.0.0.1:8080;
    server_name test.com;
    error_page 400 '/Users/mac/Desktop/webserver/error_pages/404.html';
    error_page 500 502 503 504 '/Users/mac/Desktop/webserver/error_pages/505.html';
    max_client_body_size 1;
    upload_pass /upload;
    autoindex on;
    index index.html;
    root '/Users/mac/Desktop/webserver/www';
    allow_methods GET POST DELETE;
    location /test2  {
        root /www/html/test2;
        cgi_pass php_cgi;
        cgi_ext php;
    }
}

server {
    listen 127.0.0.1:8000;
    server_name notest.com;
    root '/Users/mac/Desktop/webserver/www';
    error_page 400 '/Users/mac/Desktop/webserver/error_pages/400.html';
    autoindex on;
    index index.html;
    # max_client_body_size 10;
    upload_pass '/Users/mac/Desktop/webserver/www/upload';
    location /test  {
        # error_page 400 './error_pages/404.html';
        # allow_methods POST;
        error_page 400 '/Users/mac/Desktop/webserver/error_pages/404.html';
        root /www/html/test2;
        cgi_pass php_cgi;
        cgi_ext php;
        return 301 'https://google.com';
    }

}